<template name="editSpec">
<head>
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
      <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script>
</head>
<body>
   <div class="edit_spec_form">
      <button class="add-subject" onclick="add_subject()">Add Subject</button>
   </div>
   <div class="layout-container resize-container"></div>
</body>

<script>
   function add_subject()
   {
      $('.add-subject').after('<div class="form-container"></div>');
      $('.form-container').append('\
            <h3>Subjects Name</h3>\
            <input type="text" class="name" name="name"/><br>\
            <h3>Subjects Gender</h3>\
            <input type="radio" name="gender" value="Male">Male<br>\
            <input type="radio" name="gender" value="Female">Female<br>\
            <h3>Subjects Race</h3>\
            <input type="radio" name="race" value="Master">Master<br>\
            <input type="radio" name="race" value="Latino">Latino<br>\
            <input type="radio" name="race" value="Asian">Asian<br>\
            <input type="radio" name="race" value="Asian">African American<br>\
            <input type="radio" name="race" value="Other">Other<br>\
            <input type="submit" value="Submit" btn btn-primary" onclick="remove_form()"/>\
         ');
   }

function remove_form(){
      name=$('.name').val();
      $('.layout-container').append('<div id="drag-1" class="draggable resize-drag">' + name + ' </div>');
	$('#drag-1').css({
	  'margin': '10%',

	  'background-color': '#29e',
	  'color': 'white',

	  'border-radius': '0.75em',
	  'padding': '4%',

	  '-webkit-transform': 'translate(0px, 0px)',
		  'transform': 'translate(0px, 0px)'
	});
$('#drag-me').css({
  'content': '"#" attr(id)',
  'font-weight': 'bold'
});


   $('.resize-drag').css({
      'background-color': '#29e',
      'color':'white',
      'font-size': '20px',
     'font-family': 'sans-serif',
      'border-radius': '8px',
     'padding': '20px',
     'margin': '30px 20px',
      'width': '120px',
      'box-sizing': 'border-box'
   });

   $('.resize-container').css({
     'width': '100%',
      'height': '100%'
   });
      $('.form-container').remove();
   }

   function subject_location_next()
   {
      $('.form-container').remove();
      $('.edit_spec_form').append('<div class="data-input-container"><h3>Create your data input fields.</h3><button class="add-input-container" onclick="add_input_field()">Add another input field</button><div class="form-container alert-custom"><h5>Question</h5><input class="question" type="text"/><br><button class="add-another-response" onclick="add_another_response()">Add another response</button><div class="responses-container"><h5>Response</h5><input class="response" type="text"/></div></div></div><button class="finished" onclick="submit_page()">Done</button>');
   }

   function add_input_field()
   {
      $('.data-input-container').append('<div class="form-container alert-custom"><h5>Question</h5><input class="question" type="text"/><br><button class="add-another-response" onclick="add_another_response()">Add another response</button><div class="responses-container"><h5>Response</h5><input class="response" type="text"/></div></div>');
   }

   function add_another_response()
   {
      $('.responses-container').append('<br><input class="response" type="text">');
   }
interact('.draggable')
  .draggable({
    // enable inertial throwing
    inertia: true,
    // keep the element within the area of it's parent
    restrict: {
      restriction: "parent",
      endOnly: true,
      elementRect: { top: 0, left: 0, bottom: 1, right: 1 }
    },
    // enable autoScroll
    autoScroll: true,

    // call this function on every dragmove event
    onmove: dragMoveListener,
    // call this function on every dragend event
    onend: function (event) {
      var textEl = event.target.querySelector('p');

      textEl && (textEl.textContent =
        'moved a distance of '
        + (Math.sqrt(event.dx * event.dx +
                     event.dy * event.dy)|0) + 'px');
    }
  });

  function dragMoveListener (event) {
    var target = event.target,
        // keep the dragged position in the data-x/data-y attributes
        x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx,
        y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;

    // translate the element
    target.style.webkitTransform =
    target.style.transform =
      'translate(' + x + 'px, ' + y + 'px)';

    // update the posiion attributes
    target.setAttribute('data-x', x);
    target.setAttribute('data-y', y);
  }

  // this is used later in the resizing and gesture demos
  window.dragMoveListener = dragMoveListener;

  function dragMoveListener (event) {
         var target = event.target,
             // keep the dragged position in the data-x/data-y attributes
             x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx,
                 y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;

             // translate the element
             target.style.webkitTransform =
                    target.style.transform =
                          'translate(' + x + 'px, ' + y + 'px)';

                 // update the posiion attributes
                 target.setAttribute('data-x', x);
                     target.setAttribute('data-y', y);
                       }

  // this is used later in the resizing and gesture demos
  window.dragMoveListener = dragMoveListener;
</script>
</template>
